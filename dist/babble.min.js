!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.babble=t()}}(function(){var t;return function n(t,e,r){function o(u,a){if(!e[u]){if(!t[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(i)return i(u,!0);throw new Error("Cannot find module '"+u+"'")}var c=e[u]={exports:{}};t[u][0].call(c.exports,function(n){var e=t[u][1][n];return o(e?e:n)},c,c.exports,n,t,e,r)}return e[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(t,n){n.exports=t("./lib/babble")},{"./lib/babble":3}],2:[function(t,n){function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if(!t)throw new Error("id required");this.id=t,this.listeners={},this.conversations={}}var r=t("node-uuid"),o=t("./messagers"),i=(t("./block/Block"),t("./block/Action"),t("./block/Tell")),u=t("./block/Listen");e.prototype.connect=function(t,n){if("function"==typeof t&&(n=t,t=null),t||(t=o["default"]()),"function"!=typeof t.connect)throw new Error("messager must contain a function connect(params: {id: string, callback: function}) : function");if("function"!=typeof t.send)throw new Error("messager must contain a function send(params: {id: string, message: *})");var e=this,r=t.connect({id:this.id,message:function(t){var n,r,o=JSON.parse(t.message);n=e.conversations[t.id],n?e._run(n,o):(r=e.listeners[o],r&&(n={id:t.id,peer:t.from,next:r,context:{from:t.from}},e._run(n,o)))},connect:n});if("function"!=typeof r)throw new Error("messager.connect must return a function to disconnect");return this.disconnect=r,this.send=t.send,this},e.prototype.disconnect=function(){throw new Error("Cannot disconnect: not connected")},e.prototype.send=function(){throw new Error("Cannot send: not connected")},e.prototype.listen=function a(t,n){if("string"!=typeof t)throw new TypeError("Parameter message must be a string");var a=new u(n);return this.listeners[t]=a,a},e.prototype.tell=function(t,n){var e=r.v4(),o=new i,a={id:e,peer:t,next:o,context:{from:t}},s=this;return o.then=function c(t){return a.next=t,t instanceof u?s.conversations[e]=a:(n=s._run(a,n),t.then=c),t},n=this._run(a,n),o},e.prototype.ask=function(t,n,e){return this.tell(t,n).listen(e)},e.prototype._run=function(t,n){delete this.conversations[t.id];var e=t.next;do{var r=e.execute(n,t.context);n=r.result,e instanceof i&&this.send(t.peer,{id:t.id,from:this.id,to:t.peer,message:JSON.stringify(n)}),e=r.block,e instanceof u&&(t.next=e,this.conversations[t.id]=t)}while(e&&!(e instanceof u));return n},n.exports=e},{"./block/Action":4,"./block/Block":5,"./block/Listen":7,"./block/Tell":8,"./messagers":9,"node-uuid":19}],3:[function(t,n,e){var r=t("./Babbler"),o=t("./block/Tell"),i=t("./block/Action"),u=t("./block/Decision");e.babbler=function(t){return new r(t)},e.tell=function(t){var n="function"==typeof t?t:function(){return t};return new o(n)},e.decide=function(t,n){return new u(t,n)},e.run=function(t){return new i(t)},e.Babbler=r,e.block={Block:t("./block/Block"),Action:t("./block/Action"),Decision:t("./block/Decision"),Listen:t("./block/Listen"),Tell:t("./block/Tell")},e.messagers=t("./messagers")},{"./Babbler":2,"./block/Action":4,"./block/Block":5,"./block/Decision":6,"./block/Listen":7,"./block/Tell":8,"./messagers":9}],4:[function(t,n){function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if("function"!=typeof t)throw new TypeError("Parameter callback must be a Function");this.callback=t}var r=t("./Block");e.prototype=Object.create(r.prototype),e.prototype.execute=function(t,n){var e=this.callback(t,n);return{result:e,block:this.next}},r.prototype.run=function(t){var n=new e(t);return this.then(n)},n.exports=e},{"./Block":5}],5:[function(t,n){function e(){this.next=null,this.previous=null}e.prototype.execute=function(){throw new Error("Cannot run an abstract Block")},e.prototype.then=function(t){if(!(t instanceof e))throw new TypeError("Parameter next must be a Block");for(var n=this;n.next;)n=n.next;for(var r=this;r.previous;)r=r.previous;return t.previous=this,n.next=t,r},n.exports=e},{}],6:[function(t,n){function e(t,n){var r,o;if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if("function"==typeof t?(r=t,o=n):(r=null,o=t),r){if("function"!=typeof r)throw new TypeError("Parameter decision must be a function")}else r=function(t){return t};if(o&&o instanceof Function)throw new TypeError("Parameter choices must be an object");if(this.decision=r,this.choices={},o){var i=this;Object.keys(o).forEach(function(t){i.addChoice(t,o[t])})}}var r=t("./Block");e.prototype=Object.create(r.prototype),e.prototype.execute=function(t,n){var e=this.decision(t,n);if("string"!=typeof e)throw new TypeError("Decision function must return a string containing the id of the next block");var r=this.choices[e];if(!r)throw new Error('Block with id "'+e+'" not found');return{result:t,block:r}},e.prototype.addChoice=function(t,n){if("string"!=typeof t)throw new TypeError("String expected as choice id");if(!(n instanceof r))throw new TypeError("Block expected as choice");if(t in this.choices)throw new Error('Choice with id "'+t+'" already exists');return this.choices[t]=n,this},r.prototype.decide=function(t,n){var r=new e(t,n);return this.then(r)},n.exports=e},{"./Block":5}],7:[function(t,n){function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if(t&&"function"!=typeof t)throw new TypeError("Parameter callback must be a Function");this.callback=t||function(t){return t}}var r=t("./Block");e.prototype=Object.create(r.prototype),e.prototype.execute=function(t,n){var e=this.callback(t,n);return{result:e,block:this.next}},r.prototype.listen=function(t){var n=new e(t);return this.then(n)},n.exports=e},{"./Block":5}],8:[function(t,n){function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if(t&&"function"!=typeof t)throw new TypeError("Parameter callback must be a Function");this.callback=t||function(t){return t}}var r=t("./Block");e.prototype=Object.create(r.prototype),e.prototype.execute=function(t,n){var e=this.callback(t,n);return{result:e,block:this.next}},r.prototype.tell=function(t){var n="function"==typeof t?t:function(){return t},r=new e(n);return this.then(r)},n.exports=e},{"./Block":5}],9:[function(t,n,e){e["pubsub-js"]=function(){var n=t("pubsub-js");return{connect:function(t){var e=n.subscribe(t.id,function(n,e){t.message(e)});return"function"==typeof t.connect&&t.connect(),function(){n.unsubscribe(e)}},send:function(t,e){n.publish(t,e)}}},e.pubnub=function(n){var e;if("undefined"!=typeof window){if("undefined"==typeof window.PUBNUB)throw new Error("Please load pubnub first in the browser");e=window.PUBNUB}else e=t("pubnub");var r=e.init(n);return{connect:function(t){return r.subscribe({channel:t.id,message:t.message,connect:t.connect}),function(){r.unsubscribe(t.id)}},send:function(t,n){r.publish({channel:t,message:n})}}},e["default"]=e["pubsub-js"]},{pubnub:"55flJj","pubsub-js":20}],10:[function(t,n){function e(t,n){if(t.length%u!==0){var e=t.length+(u-t.length%u);t=i.concat([t,a],e)}for(var r=[],o=n?t.readInt32BE:t.readInt32LE,s=0;s<t.length;s+=u)r.push(o.call(t,s));return r}function r(t,n,e){for(var r=new i(n),o=e?r.writeInt32BE:r.writeInt32LE,u=0;u<t.length;u++)o.call(r,t[u],4*u,!0);return r}function o(t,n,o,u){i.isBuffer(t)||(t=new i(t));var a=n(e(t,u),t.length*s);return r(a,o,u)}var i=t("buffer").Buffer,u=4,a=new i(u);a.fill(0);var s=8;n.exports={hash:o}},{buffer:16}],11:[function(t,n,e){function r(t,n,e){a.isBuffer(n)||(n=new a(n)),a.isBuffer(e)||(e=new a(e)),n.length>p?n=t(n):n.length<p&&(n=a.concat([n,d],p));for(var r=new a(p),o=new a(p),i=0;p>i;i++)r[i]=54^n[i],o[i]=92^n[i];var u=t(a.concat([r,e]));return t(a.concat([o,u]))}function o(t,n){t=t||"sha1";var e=h[t],o=[],u=0;return e||i("algorithm:",t,"is not yet supported"),{update:function(t){return a.isBuffer(t)||(t=new a(t)),o.push(t),u+=t.length,this},digest:function(t){var i=a.concat(o),u=n?r(e,n,i):e(i);return o=null,t?u.toString(t):u}}}function i(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function u(t,n){for(var e in t)n(t[e],e)}var a=t("buffer").Buffer,s=t("./sha"),c=t("./sha256"),f=t("./rng"),l=t("./md5"),h={sha1:s,sha256:c,md5:l},p=64,d=new a(p);d.fill(0),e.createHash=function(t){return o(t)},e.createHmac=function(t,n){return o(t,n)},e.randomBytes=function(t,n){if(!n||!n.call)return new a(f(t));try{n.call(this,void 0,new a(f(t)))}catch(e){n(e)}},u(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],function(t){e[t]=function(){i("sorry,",t,"is not implemented yet")}})},{"./md5":12,"./rng":13,"./sha":14,"./sha256":15,buffer:16}],12:[function(t,n){function e(t,n){t[n>>5]|=128<<n%32,t[(n+64>>>9<<4)+14]=n;for(var e=1732584193,r=-271733879,c=-1732584194,f=271733878,l=0;l<t.length;l+=16){var h=e,p=r,d=c,y=f;e=o(e,r,c,f,t[l+0],7,-680876936),f=o(f,e,r,c,t[l+1],12,-389564586),c=o(c,f,e,r,t[l+2],17,606105819),r=o(r,c,f,e,t[l+3],22,-1044525330),e=o(e,r,c,f,t[l+4],7,-176418897),f=o(f,e,r,c,t[l+5],12,1200080426),c=o(c,f,e,r,t[l+6],17,-1473231341),r=o(r,c,f,e,t[l+7],22,-45705983),e=o(e,r,c,f,t[l+8],7,1770035416),f=o(f,e,r,c,t[l+9],12,-1958414417),c=o(c,f,e,r,t[l+10],17,-42063),r=o(r,c,f,e,t[l+11],22,-1990404162),e=o(e,r,c,f,t[l+12],7,1804603682),f=o(f,e,r,c,t[l+13],12,-40341101),c=o(c,f,e,r,t[l+14],17,-1502002290),r=o(r,c,f,e,t[l+15],22,1236535329),e=i(e,r,c,f,t[l+1],5,-165796510),f=i(f,e,r,c,t[l+6],9,-1069501632),c=i(c,f,e,r,t[l+11],14,643717713),r=i(r,c,f,e,t[l+0],20,-373897302),e=i(e,r,c,f,t[l+5],5,-701558691),f=i(f,e,r,c,t[l+10],9,38016083),c=i(c,f,e,r,t[l+15],14,-660478335),r=i(r,c,f,e,t[l+4],20,-405537848),e=i(e,r,c,f,t[l+9],5,568446438),f=i(f,e,r,c,t[l+14],9,-1019803690),c=i(c,f,e,r,t[l+3],14,-187363961),r=i(r,c,f,e,t[l+8],20,1163531501),e=i(e,r,c,f,t[l+13],5,-1444681467),f=i(f,e,r,c,t[l+2],9,-51403784),c=i(c,f,e,r,t[l+7],14,1735328473),r=i(r,c,f,e,t[l+12],20,-1926607734),e=u(e,r,c,f,t[l+5],4,-378558),f=u(f,e,r,c,t[l+8],11,-2022574463),c=u(c,f,e,r,t[l+11],16,1839030562),r=u(r,c,f,e,t[l+14],23,-35309556),e=u(e,r,c,f,t[l+1],4,-1530992060),f=u(f,e,r,c,t[l+4],11,1272893353),c=u(c,f,e,r,t[l+7],16,-155497632),r=u(r,c,f,e,t[l+10],23,-1094730640),e=u(e,r,c,f,t[l+13],4,681279174),f=u(f,e,r,c,t[l+0],11,-358537222),c=u(c,f,e,r,t[l+3],16,-722521979),r=u(r,c,f,e,t[l+6],23,76029189),e=u(e,r,c,f,t[l+9],4,-640364487),f=u(f,e,r,c,t[l+12],11,-421815835),c=u(c,f,e,r,t[l+15],16,530742520),r=u(r,c,f,e,t[l+2],23,-995338651),e=a(e,r,c,f,t[l+0],6,-198630844),f=a(f,e,r,c,t[l+7],10,1126891415),c=a(c,f,e,r,t[l+14],15,-1416354905),r=a(r,c,f,e,t[l+5],21,-57434055),e=a(e,r,c,f,t[l+12],6,1700485571),f=a(f,e,r,c,t[l+3],10,-1894986606),c=a(c,f,e,r,t[l+10],15,-1051523),r=a(r,c,f,e,t[l+1],21,-2054922799),e=a(e,r,c,f,t[l+8],6,1873313359),f=a(f,e,r,c,t[l+15],10,-30611744),c=a(c,f,e,r,t[l+6],15,-1560198380),r=a(r,c,f,e,t[l+13],21,1309151649),e=a(e,r,c,f,t[l+4],6,-145523070),f=a(f,e,r,c,t[l+11],10,-1120210379),c=a(c,f,e,r,t[l+2],15,718787259),r=a(r,c,f,e,t[l+9],21,-343485551),e=s(e,h),r=s(r,p),c=s(c,d),f=s(f,y)}return Array(e,r,c,f)}function r(t,n,e,r,o,i){return s(c(s(s(n,t),s(r,i)),o),e)}function o(t,n,e,o,i,u,a){return r(n&e|~n&o,t,n,i,u,a)}function i(t,n,e,o,i,u,a){return r(n&o|e&~o,t,n,i,u,a)}function u(t,n,e,o,i,u,a){return r(n^e^o,t,n,i,u,a)}function a(t,n,e,o,i,u,a){return r(e^(n|~o),t,n,i,u,a)}function s(t,n){var e=(65535&t)+(65535&n),r=(t>>16)+(n>>16)+(e>>16);return r<<16|65535&e}function c(t,n){return t<<n|t>>>32-n}var f=t("./helpers");n.exports=function(t){return f.hash(t,e,16)}},{"./helpers":10}],13:[function(t,n){!function(){var t,e,r=this;t=function(t){for(var n,n,e=new Array(t),r=0;t>r;r++)0==(3&r)&&(n=4294967296*Math.random()),e[r]=n>>>((3&r)<<3)&255;return e},r.crypto&&crypto.getRandomValues&&(e=function(t){var n=new Uint8Array(t);return crypto.getRandomValues(n),n}),n.exports=e||t}()},{}],14:[function(t,n){function e(t,n){t[n>>5]|=128<<24-n%32,t[(n+64>>9<<4)+15]=n;for(var e=Array(80),a=1732584193,s=-271733879,c=-1732584194,f=271733878,l=-1009589776,h=0;h<t.length;h+=16){for(var p=a,d=s,y=c,g=f,b=l,w=0;80>w;w++){e[w]=16>w?t[h+w]:u(e[w-3]^e[w-8]^e[w-14]^e[w-16],1);var v=i(i(u(a,5),r(w,s,c,f)),i(i(l,e[w]),o(w)));l=f,f=c,c=u(s,30),s=a,a=v}a=i(a,p),s=i(s,d),c=i(c,y),f=i(f,g),l=i(l,b)}return Array(a,s,c,f,l)}function r(t,n,e,r){return 20>t?n&e|~n&r:40>t?n^e^r:60>t?n&e|n&r|e&r:n^e^r}function o(t){return 20>t?1518500249:40>t?1859775393:60>t?-1894007588:-899497514}function i(t,n){var e=(65535&t)+(65535&n),r=(t>>16)+(n>>16)+(e>>16);return r<<16|65535&e}function u(t,n){return t<<n|t>>>32-n}var a=t("./helpers");n.exports=function(t){return a.hash(t,e,20,!0)}},{"./helpers":10}],15:[function(t,n){var e=t("./helpers"),r=function(t,n){var e=(65535&t)+(65535&n),r=(t>>16)+(n>>16)+(e>>16);return r<<16|65535&e},o=function(t,n){return t>>>n|t<<32-n},i=function(t,n){return t>>>n},u=function(t,n,e){return t&n^~t&e},a=function(t,n,e){return t&n^t&e^n&e},s=function(t){return o(t,2)^o(t,13)^o(t,22)},c=function(t){return o(t,6)^o(t,11)^o(t,25)},f=function(t){return o(t,7)^o(t,18)^i(t,3)},l=function(t){return o(t,17)^o(t,19)^i(t,10)},h=function(t,n){var e,o,i,h,p,d,y,g,b,w,v,m,E=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),B=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),I=new Array(64);t[n>>5]|=128<<24-n%32,t[(n+64>>9<<4)+15]=n;for(var b=0;b<t.length;b+=16){e=B[0],o=B[1],i=B[2],h=B[3],p=B[4],d=B[5],y=B[6],g=B[7];for(var w=0;64>w;w++)I[w]=16>w?t[w+b]:r(r(r(l(I[w-2]),I[w-7]),f(I[w-15])),I[w-16]),v=r(r(r(r(g,c(p)),u(p,d,y)),E[w]),I[w]),m=r(s(e),a(e,o,i)),g=y,y=d,d=p,p=r(h,v),h=i,i=o,o=e,e=r(v,m);B[0]=r(e,B[0]),B[1]=r(o,B[1]),B[2]=r(i,B[2]),B[3]=r(h,B[3]),B[4]=r(p,B[4]),B[5]=r(d,B[5]),B[6]=r(y,B[6]),B[7]=r(g,B[7])}return B};n.exports=function(t){return e.hash(t,h,32,!0)}},{"./helpers":10}],16:[function(t,n,e){function r(t,n,e){if(!(this instanceof r))return new r(t,n,e);var o=typeof t;if("base64"===n&&"string"===o)for(t=x(t);t.length%4!==0;)t+="=";var i;if("number"===o)i=C(t);else if("string"===o)i=r.byteLength(t,n);else{if("object"!==o)throw new Error("First argument needs to be a number, array or string.");i=C(t.length)}var u;r._useTypedArrays?u=U(new Uint8Array(i)):(u=this,u.length=i,u._isBuffer=!0);var a;if(r._useTypedArrays&&"function"==typeof Uint8Array&&t instanceof Uint8Array)u._set(t);else if(T(t))for(a=0;i>a;a++)u[a]=r.isBuffer(t)?t.readUInt8(a):t[a];else if("string"===o)u.write(t,0,n);else if("number"===o&&!r._useTypedArrays&&!e)for(a=0;i>a;a++)u[a]=0;return u}function o(t,n,e,o){e=Number(e)||0;var i=t.length-e;o?(o=Number(o),o>i&&(o=i)):o=i;var u=n.length;J(u%2===0,"Invalid hex string"),o>u/2&&(o=u/2);for(var a=0;o>a;a++){var s=parseInt(n.substr(2*a,2),16);J(!isNaN(s),"Invalid hex string"),t[e+a]=s}return r._charsWritten=2*a,a}function i(t,n,e,o){var i=r._charsWritten=O(M(n),t,e,o);return i}function u(t,n,e,o){var i=r._charsWritten=O(N(n),t,e,o);return i}function a(t,n,e,r){return u(t,n,e,r)}function s(t,n,e,o){var i=r._charsWritten=O(j(n),t,e,o);return i}function c(t,n,e){return R.fromByteArray(0===n&&e===t.length?t:t.slice(n,e))}function f(t,n,e){var r="",o="";e=Math.min(t.length,e);for(var i=n;e>i;i++)t[i]<=127?(r+=D(o)+String.fromCharCode(t[i]),o=""):o+="%"+t[i].toString(16);return r+D(o)}function l(t,n,e){var r="";e=Math.min(t.length,e);for(var o=n;e>o;o++)r+=String.fromCharCode(t[o]);return r}function h(t,n,e){return l(t,n,e)}function p(t,n,e){var r=t.length;(!n||0>n)&&(n=0),(!e||0>e||e>r)&&(e=r);for(var o="",i=n;e>i;i++)o+=_(t[i]);return o}function d(t,n,e,r){r||(J("boolean"==typeof e,"missing or invalid endian"),J(void 0!==n&&null!==n,"missing offset"),J(n+1<t.length,"Trying to read beyond buffer length"));var o=t.length;if(!(n>=o)){var i;return e?(i=t[n],o>n+1&&(i|=t[n+1]<<8)):(i=t[n]<<8,o>n+1&&(i|=t[n+1])),i}}function y(t,n,e,r){r||(J("boolean"==typeof e,"missing or invalid endian"),J(void 0!==n&&null!==n,"missing offset"),J(n+3<t.length,"Trying to read beyond buffer length"));var o=t.length;if(!(n>=o)){var i;return e?(o>n+2&&(i=t[n+2]<<16),o>n+1&&(i|=t[n+1]<<8),i|=t[n],o>n+3&&(i+=t[n+3]<<24>>>0)):(o>n+1&&(i=t[n+1]<<16),o>n+2&&(i|=t[n+2]<<8),o>n+3&&(i|=t[n+3]),i+=t[n]<<24>>>0),i}}function g(t,n,e,r){r||(J("boolean"==typeof e,"missing or invalid endian"),J(void 0!==n&&null!==n,"missing offset"),J(n+1<t.length,"Trying to read beyond buffer length"));var o=t.length;if(!(n>=o)){var i=d(t,n,e,!0),u=32768&i;return u?-1*(65535-i+1):i}}function b(t,n,e,r){r||(J("boolean"==typeof e,"missing or invalid endian"),J(void 0!==n&&null!==n,"missing offset"),J(n+3<t.length,"Trying to read beyond buffer length"));var o=t.length;if(!(n>=o)){var i=y(t,n,e,!0),u=2147483648&i;return u?-1*(4294967295-i+1):i}}function w(t,n,e,r){return r||(J("boolean"==typeof e,"missing or invalid endian"),J(n+3<t.length,"Trying to read beyond buffer length")),V.read(t,n,e,23,4)}function v(t,n,e,r){return r||(J("boolean"==typeof e,"missing or invalid endian"),J(n+7<t.length,"Trying to read beyond buffer length")),V.read(t,n,e,52,8)}function m(t,n,e,r,o){o||(J(void 0!==n&&null!==n,"missing value"),J("boolean"==typeof r,"missing or invalid endian"),J(void 0!==e&&null!==e,"missing offset"),J(e+1<t.length,"trying to write beyond buffer length"),P(n,65535));var i=t.length;if(!(e>=i))for(var u=0,a=Math.min(i-e,2);a>u;u++)t[e+u]=(n&255<<8*(r?u:1-u))>>>8*(r?u:1-u)}function E(t,n,e,r,o){o||(J(void 0!==n&&null!==n,"missing value"),J("boolean"==typeof r,"missing or invalid endian"),J(void 0!==e&&null!==e,"missing offset"),J(e+3<t.length,"trying to write beyond buffer length"),P(n,4294967295));var i=t.length;if(!(e>=i))for(var u=0,a=Math.min(i-e,4);a>u;u++)t[e+u]=n>>>8*(r?u:3-u)&255}function B(t,n,e,r,o){o||(J(void 0!==n&&null!==n,"missing value"),J("boolean"==typeof r,"missing or invalid endian"),J(void 0!==e&&null!==e,"missing offset"),J(e+1<t.length,"Trying to write beyond buffer length"),F(n,32767,-32768));var i=t.length;e>=i||(n>=0?m(t,n,e,r,o):m(t,65535+n+1,e,r,o))}function I(t,n,e,r,o){o||(J(void 0!==n&&null!==n,"missing value"),J("boolean"==typeof r,"missing or invalid endian"),J(void 0!==e&&null!==e,"missing offset"),J(e+3<t.length,"Trying to write beyond buffer length"),F(n,2147483647,-2147483648));var i=t.length;e>=i||(n>=0?E(t,n,e,r,o):E(t,4294967295+n+1,e,r,o))}function A(t,n,e,r,o){o||(J(void 0!==n&&null!==n,"missing value"),J("boolean"==typeof r,"missing or invalid endian"),J(void 0!==e&&null!==e,"missing offset"),J(e+3<t.length,"Trying to write beyond buffer length"),q(n,3.4028234663852886e38,-3.4028234663852886e38));var i=t.length;e>=i||V.write(t,n,e,r,23,4)}function k(t,n,e,r,o){o||(J(void 0!==n&&null!==n,"missing value"),J("boolean"==typeof r,"missing or invalid endian"),J(void 0!==e&&null!==e,"missing offset"),J(e+7<t.length,"Trying to write beyond buffer length"),q(n,1.7976931348623157e308,-1.7976931348623157e308));var i=t.length;e>=i||V.write(t,n,e,r,52,8)}function x(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function U(t){return t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=W.get,t.set=W.set,t.write=W.write,t.toString=W.toString,t.toLocaleString=W.toString,t.toJSON=W.toJSON,t.copy=W.copy,t.slice=W.slice,t.readUInt8=W.readUInt8,t.readUInt16LE=W.readUInt16LE,t.readUInt16BE=W.readUInt16BE,t.readUInt32LE=W.readUInt32LE,t.readUInt32BE=W.readUInt32BE,t.readInt8=W.readInt8,t.readInt16LE=W.readInt16LE,t.readInt16BE=W.readInt16BE,t.readInt32LE=W.readInt32LE,t.readInt32BE=W.readInt32BE,t.readFloatLE=W.readFloatLE,t.readFloatBE=W.readFloatBE,t.readDoubleLE=W.readDoubleLE,t.readDoubleBE=W.readDoubleBE,t.writeUInt8=W.writeUInt8,t.writeUInt16LE=W.writeUInt16LE,t.writeUInt16BE=W.writeUInt16BE,t.writeUInt32LE=W.writeUInt32LE,t.writeUInt32BE=W.writeUInt32BE,t.writeInt8=W.writeInt8,t.writeInt16LE=W.writeInt16LE,t.writeInt16BE=W.writeInt16BE,t.writeInt32LE=W.writeInt32LE,t.writeInt32BE=W.writeInt32BE,t.writeFloatLE=W.writeFloatLE,t.writeFloatBE=W.writeFloatBE,t.writeDoubleLE=W.writeDoubleLE,t.writeDoubleBE=W.writeDoubleBE,t.fill=W.fill,t.inspect=W.inspect,t.toArrayBuffer=W.toArrayBuffer,t}function L(t,n,e){return"number"!=typeof t?e:(t=~~t,t>=n?n:t>=0?t:(t+=n,t>=0?t:0))}function C(t){return t=~~Math.ceil(+t),0>t?0:t}function S(t){return(Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)})(t)}function T(t){return S(t)||r.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function _(t){return 16>t?"0"+t.toString(16):t.toString(16)}function M(t){for(var n=[],e=0;e<t.length;e++){var r=t.charCodeAt(e);if(127>=r)n.push(t.charCodeAt(e));else{var o=e;r>=55296&&57343>=r&&e++;for(var i=encodeURIComponent(t.slice(o,e+1)).substr(1).split("%"),u=0;u<i.length;u++)n.push(parseInt(i[u],16))}}return n}function N(t){for(var n=[],e=0;e<t.length;e++)n.push(255&t.charCodeAt(e));return n}function j(t){return R.toByteArray(t)}function O(t,n,e,r){for(var o=0;r>o&&!(o+e>=n.length||o>=t.length);o++)n[o+e]=t[o];return o}function D(t){try{return decodeURIComponent(t)}catch(n){return String.fromCharCode(65533)}}function P(t,n){J("number"==typeof t,"cannot write a non-number as a number"),J(t>=0,"specified a negative value for writing an unsigned value"),J(n>=t,"value is larger than maximum value for type"),J(Math.floor(t)===t,"value has a fractional component")}function F(t,n,e){J("number"==typeof t,"cannot write a non-number as a number"),J(n>=t,"value larger than maximum allowed value"),J(t>=e,"value smaller than minimum allowed value"),J(Math.floor(t)===t,"value has a fractional component")}function q(t,n,e){J("number"==typeof t,"cannot write a non-number as a number"),J(n>=t,"value larger than maximum allowed value"),J(t>=e,"value smaller than minimum allowed value")}function J(t,n){if(!t)throw new Error(n||"Failed assertion")}var R=t("base64-js"),V=t("ieee754");e.Buffer=r,e.SlowBuffer=r,e.INSPECT_MAX_BYTES=50,r.poolSize=8192,r._useTypedArrays=function(){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer)return!1;try{var t=new Uint8Array(0);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(n){return!1}}(),r.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.isBuffer=function(t){return!(null===t||void 0===t||!t._isBuffer)},r.byteLength=function(t,n){var e;switch(t+="",n||"utf8"){case"hex":e=t.length/2;break;case"utf8":case"utf-8":e=M(t).length;break;case"ascii":case"binary":case"raw":e=t.length;break;case"base64":e=j(t).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":e=2*t.length;break;default:throw new Error("Unknown encoding")}return e},r.concat=function(t,n){if(J(S(t),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===t.length)return new r(0);if(1===t.length)return t[0];var e;if("number"!=typeof n)for(n=0,e=0;e<t.length;e++)n+=t[e].length;var o=new r(n),i=0;for(e=0;e<t.length;e++){var u=t[e];u.copy(o,i),i+=u.length}return o},r.prototype.write=function(t,n,e,r){if(isFinite(n))isFinite(e)||(r=e,e=void 0);else{var c=r;r=n,n=e,e=c}n=Number(n)||0;var f=this.length-n;switch(e?(e=Number(e),e>f&&(e=f)):e=f,r=String(r||"utf8").toLowerCase()){case"hex":return o(this,t,n,e);case"utf8":case"utf-8":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i(this,t,n,e);case"ascii":return u(this,t,n,e);case"binary":return a(this,t,n,e);case"base64":return s(this,t,n,e);default:throw new Error("Unknown encoding")}},r.prototype.toString=function(t,n,e){var r=this;if(t=String(t||"utf8").toLowerCase(),n=Number(n)||0,e=void 0!==e?Number(e):e=r.length,e===n)return"";switch(t){case"hex":return p(r,n,e);case"utf8":case"utf-8":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f(r,n,e);case"ascii":return l(r,n,e);case"binary":return h(r,n,e);case"base64":return c(r,n,e);default:throw new Error("Unknown encoding")}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.copy=function(t,n,e,r){var o=this;if(e||(e=0),r||0===r||(r=this.length),n||(n=0),r!==e&&0!==t.length&&0!==o.length){J(r>=e,"sourceEnd < sourceStart"),J(n>=0&&n<t.length,"targetStart out of bounds"),J(e>=0&&e<o.length,"sourceStart out of bounds"),J(r>=0&&r<=o.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length),t.length-n<r-e&&(r=t.length-n+e);for(var i=0;r-e>i;i++)t[i+n]=this[i+e]}},r.prototype.slice=function(t,n){var e=this.length;if(t=L(t,e,0),n=L(n,e,e),r._useTypedArrays)return U(this.subarray(t,n));for(var o=n-t,i=new r(o,void 0,!0),u=0;o>u;u++)i[u]=this[u+t];return i},r.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},r.prototype.set=function(t,n){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,n)},r.prototype.readUInt8=function(t,n){return n||(J(void 0!==t&&null!==t,"missing offset"),J(t<this.length,"Trying to read beyond buffer length")),t>=this.length?void 0:this[t]},r.prototype.readUInt16LE=function(t,n){return d(this,t,!0,n)},r.prototype.readUInt16BE=function(t,n){return d(this,t,!1,n)},r.prototype.readUInt32LE=function(t,n){return y(this,t,!0,n)},r.prototype.readUInt32BE=function(t,n){return y(this,t,!1,n)},r.prototype.readInt8=function(t,n){if(n||(J(void 0!==t&&null!==t,"missing offset"),J(t<this.length,"Trying to read beyond buffer length")),!(t>=this.length)){var e=128&this[t];return e?-1*(255-this[t]+1):this[t]}},r.prototype.readInt16LE=function(t,n){return g(this,t,!0,n)},r.prototype.readInt16BE=function(t,n){return g(this,t,!1,n)},r.prototype.readInt32LE=function(t,n){return b(this,t,!0,n)},r.prototype.readInt32BE=function(t,n){return b(this,t,!1,n)},r.prototype.readFloatLE=function(t,n){return w(this,t,!0,n)},r.prototype.readFloatBE=function(t,n){return w(this,t,!1,n)},r.prototype.readDoubleLE=function(t,n){return v(this,t,!0,n)},r.prototype.readDoubleBE=function(t,n){return v(this,t,!1,n)},r.prototype.writeUInt8=function(t,n,e){e||(J(void 0!==t&&null!==t,"missing value"),J(void 0!==n&&null!==n,"missing offset"),J(n<this.length,"trying to write beyond buffer length"),P(t,255)),n>=this.length||(this[n]=t)},r.prototype.writeUInt16LE=function(t,n,e){m(this,t,n,!0,e)},r.prototype.writeUInt16BE=function(t,n,e){m(this,t,n,!1,e)},r.prototype.writeUInt32LE=function(t,n,e){E(this,t,n,!0,e)},r.prototype.writeUInt32BE=function(t,n,e){E(this,t,n,!1,e)},r.prototype.writeInt8=function(t,n,e){e||(J(void 0!==t&&null!==t,"missing value"),J(void 0!==n&&null!==n,"missing offset"),J(n<this.length,"Trying to write beyond buffer length"),F(t,127,-128)),n>=this.length||(t>=0?this.writeUInt8(t,n,e):this.writeUInt8(255+t+1,n,e))},r.prototype.writeInt16LE=function(t,n,e){B(this,t,n,!0,e)},r.prototype.writeInt16BE=function(t,n,e){B(this,t,n,!1,e)},r.prototype.writeInt32LE=function(t,n,e){I(this,t,n,!0,e)},r.prototype.writeInt32BE=function(t,n,e){I(this,t,n,!1,e)},r.prototype.writeFloatLE=function(t,n,e){A(this,t,n,!0,e)},r.prototype.writeFloatBE=function(t,n,e){A(this,t,n,!1,e)},r.prototype.writeDoubleLE=function(t,n,e){k(this,t,n,!0,e)},r.prototype.writeDoubleBE=function(t,n,e){k(this,t,n,!1,e)},r.prototype.fill=function(t,n,e){if(t||(t=0),n||(n=0),e||(e=this.length),"string"==typeof t&&(t=t.charCodeAt(0)),J("number"==typeof t&&!isNaN(t),"value is not a number"),J(e>=n,"end < start"),e!==n&&0!==this.length){J(n>=0&&n<this.length,"start out of bounds"),J(e>=0&&e<=this.length,"end out of bounds");for(var r=n;e>r;r++)this[r]=t}},r.prototype.inspect=function(){for(var t=[],n=this.length,r=0;n>r;r++)if(t[r]=_(this[r]),r===e.INSPECT_MAX_BYTES){t[r+1]="...";break}return"<Buffer "+t.join(" ")+">"},r.prototype.toArrayBuffer=function(){if("function"==typeof Uint8Array){if(r._useTypedArrays)return new r(this).buffer;for(var t=new Uint8Array(this.length),n=0,e=t.length;e>n;n+=1)t[n]=this[n];return t.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var W=r.prototype},{"base64-js":17,ieee754:18}],17:[function(t,n){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(){"use strict";function t(t){var n=t.charCodeAt(0);return n===u?62:n===a?63:s>n?-1:s+10>n?n-s+26+26:f+26>n?n-f:c+26>n?n-c+26:void 0}function r(n){function e(t){c[l++]=t}var r,o,u,a,s,c;if(n.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var f=n.length;s="="===n.charAt(f-2)?2:"="===n.charAt(f-1)?1:0,c=new i(3*n.length/4-s),u=s>0?n.length-4:n.length;var l=0;for(r=0,o=0;u>r;r+=4,o+=3)a=t(n.charAt(r))<<18|t(n.charAt(r+1))<<12|t(n.charAt(r+2))<<6|t(n.charAt(r+3)),e((16711680&a)>>16),e((65280&a)>>8),e(255&a);return 2===s?(a=t(n.charAt(r))<<2|t(n.charAt(r+1))>>4,e(255&a)):1===s&&(a=t(n.charAt(r))<<10|t(n.charAt(r+1))<<4|t(n.charAt(r+2))>>2,e(a>>8&255),e(255&a)),c}function o(t){function n(t){return e.charAt(t)}function r(t){return n(t>>18&63)+n(t>>12&63)+n(t>>6&63)+n(63&t)}var o,i,u,a=t.length%3,s="";for(o=0,u=t.length-a;u>o;o+=3)i=(t[o]<<16)+(t[o+1]<<8)+t[o+2],s+=r(i);switch(a){case 1:i=t[t.length-1],s+=n(i>>2),s+=n(i<<4&63),s+="==";break;case 2:i=(t[t.length-2]<<8)+t[t.length-1],s+=n(i>>10),s+=n(i>>4&63),s+=n(i<<2&63),s+="="}return s}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,u=("0".charCodeAt(0),"+".charCodeAt(0)),a="/".charCodeAt(0),s="0".charCodeAt(0),c="a".charCodeAt(0),f="A".charCodeAt(0);n.exports.toByteArray=r,n.exports.fromByteArray=o}()},{}],18:[function(t,n,e){e.read=function(t,n,e,r,o){var i,u,a=8*o-r-1,s=(1<<a)-1,c=s>>1,f=-7,l=e?o-1:0,h=e?-1:1,p=t[n+l];for(l+=h,i=p&(1<<-f)-1,p>>=-f,f+=a;f>0;i=256*i+t[n+l],l+=h,f-=8);for(u=i&(1<<-f)-1,i>>=-f,f+=r;f>0;u=256*u+t[n+l],l+=h,f-=8);if(0===i)i=1-c;else{if(i===s)return u?0/0:1/0*(p?-1:1);u+=Math.pow(2,r),i-=c}return(p?-1:1)*u*Math.pow(2,i-r)},e.write=function(t,n,e,r,o,i){var u,a,s,c=8*i-o-1,f=(1<<c)-1,l=f>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,y=0>n||0===n&&0>1/n?1:0;for(n=Math.abs(n),isNaN(n)||1/0===n?(a=isNaN(n)?1:0,u=f):(u=Math.floor(Math.log(n)/Math.LN2),n*(s=Math.pow(2,-u))<1&&(u--,s*=2),n+=u+l>=1?h/s:h*Math.pow(2,1-l),n*s>=2&&(u++,s/=2),u+l>=f?(a=0,u=f):u+l>=1?(a=(n*s-1)*Math.pow(2,o),u+=l):(a=n*Math.pow(2,l-1)*Math.pow(2,o),u=0));o>=8;t[e+p]=255&a,p+=d,a/=256,o-=8);for(u=u<<o|a,c+=o;c>0;t[e+p]=255&u,p+=d,u/=256,c-=8);t[e+p-d]|=128*y}},{}],19:[function(n,e){(function(r){(function(){function o(t,n,e){var r=n&&e||0,o=0;for(n=n||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){16>o&&(n[r+o++]=g[t])});16>o;)n[r+o++]=0;return n}function i(t,n){var e=n||0,r=y;return r[t[e++]]+r[t[e++]]+r[t[e++]]+r[t[e++]]+"-"+r[t[e++]]+r[t[e++]]+"-"+r[t[e++]]+r[t[e++]]+"-"+r[t[e++]]+r[t[e++]]+"-"+r[t[e++]]+r[t[e++]]+r[t[e++]]+r[t[e++]]+r[t[e++]]+r[t[e++]]}function u(t,n,e){var r=n&&e||0,o=n||[];t=t||{};var u=null!=t.clockseq?t.clockseq:m,a=null!=t.msecs?t.msecs:(new Date).getTime(),s=null!=t.nsecs?t.nsecs:B+1,c=a-E+(s-B)/1e4;
if(0>c&&null==t.clockseq&&(u=u+1&16383),(0>c||a>E)&&null==t.nsecs&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");E=a,B=s,m=u,a+=122192928e5;var f=(1e4*(268435455&a)+s)%4294967296;o[r++]=f>>>24&255,o[r++]=f>>>16&255,o[r++]=f>>>8&255,o[r++]=255&f;var l=a/4294967296*1e4&268435455;o[r++]=l>>>8&255,o[r++]=255&l,o[r++]=l>>>24&15|16,o[r++]=l>>>16&255,o[r++]=u>>>8|128,o[r++]=255&u;for(var h=t.node||v,p=0;6>p;p++)o[r+p]=h[p];return n?n:i(o)}function a(t,n,e){var r=n&&e||0;"string"==typeof t&&(n="binary"==t?new d(16):null,t=null),t=t||{};var o=t.random||(t.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n)for(var u=0;16>u;u++)n[r+u]=o[u];return n||i(o)}var s,c=this;if("function"==typeof n)try{var f=n("crypto").randomBytes;s=f&&function(){return f(16)}}catch(l){}if(!s&&c.crypto&&crypto.getRandomValues){var h=new Uint8Array(16);s=function(){return crypto.getRandomValues(h),h}}if(!s){var p=new Array(16);s=function(){for(var t,n=0;16>n;n++)0===(3&n)&&(t=4294967296*Math.random()),p[n]=t>>>((3&n)<<3)&255;return p}}for(var d="function"==typeof r?r:Array,y=[],g={},b=0;256>b;b++)y[b]=(b+256).toString(16).substr(1),g[y[b]]=b;var w=s(),v=[1|w[0],w[1],w[2],w[3],w[4],w[5]],m=16383&(w[6]<<8|w[7]),E=0,B=0,I=a;if(I.v1=u,I.v4=a,I.parse=o,I.unparse=i,I.BufferClass=d,"function"==typeof t&&t.amd)t(function(){return I});else if("undefined"!=typeof e&&e.exports)e.exports=I;else{var A=c.uuid;I.noConflict=function(){return c.uuid=A,I},c.uuid=I}}).call(this)}).call(this,n("buffer").Buffer)},{buffer:16,crypto:11}],20:[function(n,e,r){!function(n,o){"use strict";"object"==typeof r&&e?e.exports=o():"function"==typeof t&&t.amd?t(o):n.PubSub=o()}("object"==typeof window&&window||this,function(){"use strict";function t(t){var n;for(n in t)if(t.hasOwnProperty(n))return!0;return!1}function n(t){return function(){throw t}}function e(t,e,r){try{t(e,r)}catch(o){setTimeout(n(o),0)}}function r(t,n,e){t(n,e)}function o(t,n,o,i){var u,a=c[n],s=i?r:e;if(c.hasOwnProperty(n))for(u in a)a.hasOwnProperty(u)&&s(a[u],t,o)}function i(t,n,e){return function(){var r=String(t),i=r.lastIndexOf(".");for(o(t,t,n,e);-1!==i;)r=r.substr(0,i),i=r.lastIndexOf("."),o(t,r,n)}}function u(n){for(var e=String(n),r=Boolean(c.hasOwnProperty(e)&&t(c[e])),o=e.lastIndexOf(".");!r&&-1!==o;)e=e.substr(0,o),o=e.lastIndexOf("."),r=Boolean(c.hasOwnProperty(e)&&t(c[e]));return r}function a(t,n,e,r){var o=i(t,n,r),a=u(t);return a?(e===!0?o():setTimeout(o,0),!0):!1}var s={},c={},f=-1;return s.publish=function(t,n){return a(t,n,!1,s.immediateExceptions)},s.publishSync=function(t,n){return a(t,n,!0,s.immediateExceptions)},s.subscribe=function(t,n){if("function"!=typeof n)return!1;c.hasOwnProperty(t)||(c[t]={});var e="uid_"+String(++f);return c[t][e]=n,e},s.unsubscribe=function(t){var n,e,r,o="string"==typeof t,i=!1;for(n in c)if(c.hasOwnProperty(n)){if(e=c[n],o&&e[t]){delete e[t],i=t;break}if(!o)for(r in e)e.hasOwnProperty(r)&&e[r]===t&&(delete e[r],i=!0)}return i},s})},{}]},{},[1])(1)});
//# sourceMappingURL=./babble.min.map