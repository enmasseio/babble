<!DOCTYPE html>
<html>
<head>
  <title>babble in the browser</title>
  <script src="../../dist/babble.min.js"></script>
</head>
<body>

<div id="log"></div>

<script>
  var emma = babble.babbler('emma').subscribe(),
      jack = babble.babbler('jack').subscribe();

  emma.listen('ask age')
      .reply(function () {
        return 25;
      })
      .done();

  emma.listen('tell age')
      .run(function (age, context) {
        write(context.from + ' is ' +  age + ' years old');
      })
      .done();

  jack.tell('emma', 'tell age', 27);

  jack.ask('emma', 'ask age')
      .run(function (age, context) {
        write(context.from + ' is ' + age + ' years old');
      })
      .done();

  function write (message) {
    document.getElementById('log').innerHTML += message + '<br>';
  }

</script>

</body>
</html>